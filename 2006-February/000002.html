<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openlayer-developer] Collision Demo (in SVN)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openlayer-developer/2006-February/index.html" >
   <LINK REL="made" HREF="mailto:openlayer-developer%40lists.berlios.de?Subject=Re%3A%20%5BOpenlayer-developer%5D%20Collision%20Demo%20%28in%20SVN%29&In-Reply-To=%3C43FF4C45.8030106%40bradeeoh.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000001.html">
   <LINK REL="Next"  HREF="000003.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openlayer-developer] Collision Demo (in SVN)</H1>
    <B>B E</B> 
    <A HREF="mailto:openlayer-developer%40lists.berlios.de?Subject=Re%3A%20%5BOpenlayer-developer%5D%20Collision%20Demo%20%28in%20SVN%29&In-Reply-To=%3C43FF4C45.8030106%40bradeeoh.com%3E"
       TITLE="[Openlayer-developer] Collision Demo (in SVN)">bradeeoh at bradeeoh.com
       </A><BR>
    <I>Fri Feb 24 19:11:17 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000001.html">[Openlayer-developer] One more dev list test
</A></li>
        <LI>Next message: <A HREF="000003.html">[Openlayer-developer] DestroyAll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2">[ date ]</a>
              <a href="thread.html#2">[ thread ]</a>
              <a href="subject.html#2">[ subject ]</a>
              <a href="author.html#2">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>So I'm working on this demo with collisions.  Right now the player and 
enemy just bounce off the ground with a 100% elastic collision.

I want to take some energy out each time they hit the ground, so I 
decided maybe instead of adding in 2x the surface speed I'd add in 1.8x

This works - kind of!  In theory its great, but say the player has its 
position updated and the next position is a collision with the ground. 
BUT, the player polygon is actually quite a bit through the ground.

Then the collision calculation changes its velocity and sends it back 
the other way, but since some velocity is shaved off, it doesn't have 
enough speed to get all the way clear of the ground and the next frame 
detects a collision also.  So it gets stuck in the ground.

This can happen with an elastic collision as well, if the object is 
going fast enough and the deltaTime changes just enough such that the 
reflected velocity doesn't let the object escape so it gets stuck.

A solution would be to reset the object position in any collision so 
instead of reflecting from the &quot;sunken in&quot; point, it reflects from the 
actual surface.  Problem then is deciding what the bounds of the object 
are and were the position should be!

*sigh*

I've done &quot;basic physics&quot; in code before but never in a realtime, 
interactive manner like this.  How annoying!

So, any ideas to solve this are welcome!

On the plus side the player and enemy collision is resolved based on 
momentum (they each have a compile-time configurable mass) and it looks 
great.

Just gotta solve the wall problem.  =/

-Brady

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000001.html">[Openlayer-developer] One more dev list test
</A></li>
	<LI>Next message: <A HREF="000003.html">[Openlayer-developer] DestroyAll
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2">[ date ]</a>
              <a href="thread.html#2">[ thread ]</a>
              <a href="subject.html#2">[ subject ]</a>
              <a href="author.html#2">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openlayer-developer">More information about the Openlayer-developer
mailing list</a><br>
</body></html>
